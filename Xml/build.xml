<?xml version="1.0" encoding="UTF-8"?>
<project name="TestJenkins" default="build" basedir="../.">
	<property name="source" value="src" />

	<target name="build" description="Tâche principale d'intégration continue"
		depends="clean, phpunit" />

	<target name="clean" description="Supprime et recrée les répertoires">
		<delete dir="${project.basedir}/build/api" />
		<delete dir="${project.basedir}/build/coverage" />
		<delete dir="${project.basedir}/build/logs" />

		<mkdir dir="${project.basedir}/build/api" />
		<mkdir dir="${project.basedir}/build/coverage" />
		<mkdir dir="${project.basedir}/build/logs" />
	</target>
	
	<target name="phpunit" description="Lance les test">
		<exec logoutput="true" dir="${project.basedir}/${source}/Xml"
			command="phpunit" escape="false" />
	</target>
		
</project>